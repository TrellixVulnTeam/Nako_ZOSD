{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/Nako/nako/src/desktop/teacher/question-edit.tsx\";\nimport React from \"react\";\nimport Select from \"react-select\";\nimport ScoreSelector from \"./selector/ScoreSelector\";\nimport TimeSelector from \"./selector/TimeSelector\";\nimport styles from \"./teacher.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class QuestionEdit extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dropDownRef: /*#__PURE__*/React.createRef(),\n      questionRef: /*#__PURE__*/React.createRef(),\n      timeRefs: [/*#__PURE__*/React.createRef(), /*#__PURE__*/React.createRef()]\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.currentQuestion !== this.props.currentQuestion) {\n      this.state.dropDownRef.current.setState({\n        value: this.props.currentQuestion.type === \"Multiple\" ? this.props.data[0] : this.props.data[1]\n      });\n      this.state.timeRefs[0].current.value = Math.floor(this.props.currentQuestion.timeLimit / 60).toString();\n      this.state.timeRefs[1].current.value = (this.props.currentQuestion.timeLimit % 60).toString();\n\n      if (this.props.currentQuestion.type === \"Multiple\") {\n        for (let i = 0; i < this.props.mcRefs.length; i++) {\n          var _this$props$currentQu;\n\n          this.props.mcRefs[i].text.current.value = (_this$props$currentQu = this.props.currentQuestion.choices[i]) !== null && _this$props$currentQu !== void 0 ? _this$props$currentQu : \"\";\n          this.props.mcRefs[i].checkbox.current.checked = false;\n        }\n\n        if (typeof this.props.currentQuestion.corr === \"number\") {\n          this.props.mcRefs[this.props.currentQuestion.corr].checkbox.current.checked = true;\n        } else {\n          for (const i of this.props.currentQuestion.corr) {\n            this.props.mcRefs[i].checkbox.current.checked = true;\n          }\n        }\n      } else {\n        // I'm assuming that corr is either 0/1 if the type is T/F\n        this.props.tfRefs[this.props.currentQuestion.corr ? 1 : 0].current.checked = true;\n        this.props.tfRefs[this.props.currentQuestion.corr ? 0 : 1].current.checked = false;\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: styles[\"background-wrapper\"],\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: styles[\"timer\"],\n        children: /*#__PURE__*/_jsxDEV(TimeSelector, {\n          minsValuePass: value => this.props.minsValuePass(value),\n          secsValuePass: value => this.props.secsValuePass(value),\n          inputRefs: this.state.timeRefs\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: styles[\"scorer\"],\n        children: /*#__PURE__*/_jsxDEV(ScoreSelector, {\n          scoreValuePass: value => this.props.scoreValuePass(value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: styles[\"selector\"],\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          ref: this.state.dropDownRef,\n          id: styles[\"select\"],\n          defaultValue: {\n            label: \"Multiple Choices\",\n            value: \"Multiple\"\n          } //value={this.state.selectedOption}\n          ,\n          onChange: value => this.props.onSelectionChange(value),\n          options: this.props.data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: styles[\"Next-buttom\"],\n          onClick: () => this.props.keep(),\n          children: \" Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: styles[\"inputer\"],\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: this.state.questionRef,\n          placeholder: \"Add Question...\",\n          id: styles[\"question-input\"],\n          type: \"text\",\n          onChange: e => this.props.onQuestionInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), this.props.renderTarget]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/mac/Desktop/Nako/nako/src/desktop/teacher/question-edit.tsx"],"names":["React","Select","ScoreSelector","TimeSelector","styles","QuestionEdit","Component","constructor","props","state","dropDownRef","createRef","questionRef","timeRefs","componentDidUpdate","prevProps","currentQuestion","current","setState","value","type","data","Math","floor","timeLimit","toString","i","mcRefs","length","text","choices","checkbox","checked","corr","tfRefs","render","minsValuePass","secsValuePass","scoreValuePass","label","onSelectionChange","keep","e","onQuestionInputChange","renderTarget"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Select from \"react-select\";\nimport ScoreSelector from \"./selector/ScoreSelector\";\nimport TimeSelector from \"./selector/TimeSelector\";\nimport styles from \"./teacher.module.scss\";\n\ninterface QuestionEditProps {\n  currentQuestion: {\n    question: string;\n    type: string;\n    choices: string[];\n    timeLimit: number;\n    corr: number | number[];\n  };\n  minsValuePass: (value: number) => void;\n  secsValuePass: (value: number) => void;\n  scoreValuePass: (value: number) => void;\n  onSelectionChange: (value: {\n    label: string,\n    value: string\n  } | null) => void,\n  data: {\n    label: string;\n    value: string;\n  }[],\n  keep: () => void;\n  onQuestionInputChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  renderTarget: JSX.Element;\n  mcRefs: [\n    { text: React.RefObject<HTMLInputElement>, checkbox: React.RefObject<HTMLInputElement> },\n    { text: React.RefObject<HTMLInputElement>, checkbox: React.RefObject<HTMLInputElement> },\n    { text: React.RefObject<HTMLInputElement>, checkbox: React.RefObject<HTMLInputElement> },\n    { text: React.RefObject<HTMLInputElement>, checkbox: React.RefObject<HTMLInputElement> },\n    { text: React.RefObject<HTMLInputElement>, checkbox: React.RefObject<HTMLInputElement> },\n    { text: React.RefObject<HTMLInputElement>, checkbox: React.RefObject<HTMLInputElement> }\n  ];\n  tfRefs: [React.RefObject<HTMLInputElement>, React.RefObject<HTMLInputElement>];\n}\n\ninterface QuestionEditState {\n  dropDownRef: React.RefObject<Select<{ label: string; value: string; }>>;\n  questionRef: React.RefObject<HTMLInputElement>;\n  timeRefs: [min: React.RefObject<HTMLInputElement>, sec: React.RefObject<HTMLInputElement>];\n}\n\nexport default class QuestionEdit extends React.Component<QuestionEditProps, QuestionEditState> {\n  constructor(props: QuestionEditProps) {\n    super(props);\n\n    this.state = {\n      dropDownRef: React.createRef<Select<{ label: string; value: string; }>>(),\n      questionRef: React.createRef<HTMLInputElement>(),\n      timeRefs: [React.createRef<HTMLInputElement>(), React.createRef<HTMLInputElement>()]\n    };\n  }\n  \n  componentDidUpdate(prevProps: QuestionEditProps) {\n    if (prevProps.currentQuestion !== this.props.currentQuestion) {\n      this.state.dropDownRef.current!.setState({ value: this.props.currentQuestion.type === \"Multiple\" ? this.props.data[0] : this.props.data[1] });\n      this.state.timeRefs[0].current!.value = Math.floor(this.props.currentQuestion.timeLimit / 60).toString();\n      this.state.timeRefs[1].current!.value = (this.props.currentQuestion.timeLimit % 60).toString();\n\n      if (this.props.currentQuestion.type === \"Multiple\") {\n        for (let i = 0; i < this.props.mcRefs.length; i++) {\n          this.props.mcRefs[i].text.current!.value = this.props.currentQuestion.choices[i] ?? \"\";\n          this.props.mcRefs[i].checkbox.current!.checked = false;\n        }\n\n        if (typeof this.props.currentQuestion.corr === \"number\") {\n          this.props.mcRefs[this.props.currentQuestion.corr].checkbox.current!.checked = true;\n        } else {\n          for (const i of this.props.currentQuestion.corr) {\n            this.props.mcRefs[i].checkbox.current!.checked = true;\n          }\n        }\n      } else {\n        // I'm assuming that corr is either 0/1 if the type is T/F\n        this.props.tfRefs[this.props.currentQuestion.corr ? 1 : 0].current!.checked = true;\n        this.props.tfRefs[this.props.currentQuestion.corr ? 0 : 1].current!.checked = false;\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div id={styles[\"background-wrapper\"]}>\n        <div id={styles[\"timer\"]}>\n          <TimeSelector\n            minsValuePass={value => this.props.minsValuePass(value)}\n            secsValuePass={value => this.props.secsValuePass(value)}\n            inputRefs={this.state.timeRefs}\n          />\n        </div>\n        <div id={styles[\"scorer\"]}>\n          <ScoreSelector scoreValuePass={value => this.props.scoreValuePass(value)} />\n        </div>\n        <div id={styles[\"selector\"]}>\n          <Select\n            ref={this.state.dropDownRef}\n            id={styles[\"select\"]}\n            defaultValue={{ label: \"Multiple Choices\", value: \"Multiple\" }}\n            //value={this.state.selectedOption}\n            onChange={value => this.props.onSelectionChange(value)}\n            options={this.props.data}\n          />\n          <button id={styles[\"Next-buttom\"]} onClick={() => this.props.keep()}> Next</button>\n        </div>\n        <div id={styles[\"inputer\"]}>\n          <input\n            ref={this.state.questionRef}\n            placeholder=\"Add Question...\"\n            id={styles[\"question-input\"]}\n            type=\"text\"\n            onChange={e => this.props.onQuestionInputChange}\n          />\n        </div>\n        {this.props.renderTarget}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}