{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/Nako/nako/src/desktop/lobby/lobby.tsx\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CSSTransition } from \"react-transition-group\";\nimport { animate, delay } from \"../../utils\";\nimport styles from \"./lobby.module.scss\";\nimport { parseMessage } from \"../../modules/websocket-messages\";\nimport Logo from \"../../modules/logo/logo\";\nimport GameStartCountdown from \"./game-start-countdown\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar ProgressPhase;\n\n(function (ProgressPhase) {\n  ProgressPhase[ProgressPhase[\"Name\"] = 0] = \"Name\";\n  ProgressPhase[ProgressPhase[\"LobbyID\"] = 1] = \"LobbyID\";\n  ProgressPhase[ProgressPhase[\"Lobby\"] = 2] = \"Lobby\";\n  ProgressPhase[ProgressPhase[\"Starting\"] = 3] = \"Starting\";\n  ProgressPhase[ProgressPhase[\"Ended\"] = 4] = \"Ended\";\n})(ProgressPhase || (ProgressPhase = {}));\n\nvar ErrorMessage;\n\n(function (ErrorMessage) {\n  ErrorMessage[\"Generic\"] = \"An error occurred while your request was being processed.\";\n  ErrorMessage[\"TimedOut\"] = \"Your request was timed out. Please try again.\";\n  ErrorMessage[\"MissingLobby\"] = \"The provided lobby ID does not exist.\";\n})(ErrorMessage || (ErrorMessage = {}));\n\nclass Lobby extends React.Component {\n  constructor(props) {\n    super(props);\n    window.parseMessage = parseMessage;\n    this.state = {\n      name: \"\",\n      lobbyIDInput: \"\",\n      currentProgress: ProgressPhase.Name,\n      inputParams: [{\n        className: \"box-shadow\",\n        type: \"text\",\n        placeholder: \"Enter name...\",\n        onChange: e => this.setState({\n          name: e.target.value\n        })\n      }, {\n        className: \"box-shadow hide-number-buttons\",\n        type: \"number\",\n        placeholder: \"Enter game ID\",\n        onChange: e => this.setState({\n          lobbyIDInput: e.target.value\n        })\n      }],\n      inputRef: /*#__PURE__*/React.createRef(),\n      inputTransitioning: false,\n      error: {\n        occurred: false,\n        message: ErrorMessage.Generic\n      },\n      transitionedToLobby: false\n    };\n    this.props.connection.subscribe(\"req\", \"keep_alive\", () => this.props.connection.send({\n      method: \"res\",\n      type: \"keep_alive\",\n      payload: {\n        name: this.state.name,\n        lobbyID: this.state.lobbyInfo.id\n      }\n    }));\n  }\n\n  componentWillUnmount() {\n    this.props.connection.close();\n  }\n\n  lobbyNotFoundHandler(error) {\n    console.log(error);\n  }\n\n  async onFormSubmitHandler(e, ms) {\n    e.preventDefault();\n    this.setState({\n      error: { ...this.state.error,\n        occurred: false\n      }\n    });\n\n    const triggerNextProgressPhase = () => {\n      if (this.state.currentProgress < ProgressPhase.Ended) {\n        this.setState({\n          currentProgress: this.state.currentProgress + 1\n        });\n      }\n    };\n\n    const invalidAnimation = () => {\n      animate(\"shake\", this.state.inputRef.current, 500);\n    };\n\n    const triggerDelay = async () => {\n      if (ms) {\n        this.setState({\n          inputTransitioning: true\n        });\n        await delay(ms);\n        this.setState({\n          inputTransitioning: false\n        });\n      }\n    };\n\n    switch (this.state.currentProgress) {\n      case ProgressPhase.Name:\n        if (this.state.name !== \"\") {\n          await triggerDelay();\n          triggerNextProgressPhase();\n        } else {\n          invalidAnimation();\n        }\n\n        break;\n\n      case ProgressPhase.LobbyID:\n        if (this.state.lobbyIDInput !== \"\") {\n          this.props.connection.send({\n            method: \"req\",\n            type: \"lobby_join\",\n            payload: {\n              lobbyID: Number(this.state.lobbyIDInput),\n              name: this.state.name\n            }\n          }, 10000).then(async res => {\n            console.log(res);\n\n            if (res) {\n              if (res.lobbyInfo) {\n                this.setState({\n                  lobbyInfo: res.lobbyInfo\n                });\n                this.props.connection.subscribe(\"res\", \"lobby_update\", msg => {\n                  this.setState({\n                    lobbyInfo: msg.lobbyInfo\n                  });\n                });\n                this.props.connection.subscribe(\"req\", \"game_start\").then(msg => {\n                  console.log(msg);\n                  this.props.connection.send({\n                    method: \"res\",\n                    type: \"game_start\",\n                    payload: null\n                  });\n                  triggerNextProgressPhase();\n                });\n                await triggerDelay();\n                triggerNextProgressPhase();\n              } else {\n                this.setState({\n                  error: {\n                    occurred: true,\n                    message: ErrorMessage.MissingLobby\n                  }\n                });\n                console.log(res.error);\n              }\n            } else {\n              this.setState({\n                error: {\n                  occurred: true,\n                  message: ErrorMessage.TimedOut\n                }\n              });\n            }\n          }).catch(e => {\n            console.log(e);\n            this.setState({\n              error: {\n                occurred: true,\n                message: ErrorMessage.Generic\n              }\n            });\n          });\n        } else {\n          invalidAnimation();\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const {\n      connection,\n      ...rest\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", { ...rest,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles[\"lobby-container\"],\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: styles.back,\n            className: \"box-shadow\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles[\"arrow-left\"]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            position: \"absolute\",\n            zIndex: 1,\n            bottom: 0,\n            right: 0\n          },\n          onClick: () => this.setState({\n            lobbyInfo: this.state.lobbyInfo ? undefined : {\n              id: 0,\n              players: [this.state.name, \"Test1\", \"Test2\", \"Test3\", \"Test4\", \"Test5\", \"Test6\", \"Test7\", \"Test8\", \"Test9\", \"Test10\", \"Test11\", \"Test12\"]\n            },\n            currentProgress: this.state.currentProgress === ProgressPhase.Lobby ? ProgressPhase.Name : ProgressPhase.Lobby\n          }),\n          children: \"Test\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CSSTransition, {\n          in: this.state.lobbyInfo !== undefined,\n          timeout: 500,\n          classNames: {\n            enter: styles[\"background-top-enter\"],\n            enterActive: styles[\"background-top-enter-active\"],\n            enterDone: styles[\"background-top-enter-done\"],\n            exit: styles[\"background-top-exit\"],\n            exitActive: styles[\"background-top-exit-active\"],\n            exitDone: styles[\"background-top-exit-done\"]\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: this.state.transitionedToLobby ? styles.background : styles[\"background-top\"],\n            children: [/*#__PURE__*/_jsxDEV(CSSTransition, {\n              in: this.state.lobbyInfo === undefined,\n              timeout: 500,\n              classNames: {\n                enter: styles[\"title-container-enter\"],\n                enterActive: styles[\"title-container-enter-active\"],\n                enterDone: styles[\"title-container-enter-done\"],\n                exit: styles[\"title-container-exit\"],\n                exitActive: styles[\"title-container-exit-active\"],\n                exitDone: styles[\"title-container-exit-done\"]\n              },\n              onExited: () => this.setState({\n                transitionedToLobby: true\n              }),\n              mountOnEnter: true,\n              unmountOnExit: true,\n              children: /*#__PURE__*/_jsxDEV(Logo, {\n                id: styles[\"title-container\"],\n                role: \"student\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CSSTransition, {\n              in: this.state.transitionedToLobby && this.state.lobbyInfo !== undefined,\n              timeout: 500,\n              classNames: {\n                enter: styles[\"lobby-info-container-enter\"],\n                enterActive: styles[\"lobby-info-container-enter-active\"],\n                enterDone: styles[\"lobby-info-container-enter-done\"],\n                exit: styles[\"lobby-info-container-exit\"],\n                exitActive: styles[\"lobby-info-container-exit-active\"],\n                exitDone: styles[\"lobby-info-container-exit-done\"]\n              },\n              onExit: () => this.setState({\n                transitionedToLobby: false\n              }),\n              mountOnEnter: true,\n              unmountOnExit: true,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: styles[\"lobby-info-container\"],\n                children: this.state.currentProgress !== ProgressPhase.Starting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"You are playing with:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: styles[\"player-list\"],\n                    children: this.state.lobbyInfo !== undefined ? this.state.lobbyInfo.players.map((player, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: player\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 112\n                    }, this)) : null\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(GameStartCountdown, {\n                  onCountdownEnd: () => {\n                    if (this.state.gameInfo) {\n                      console.log(\"Start\");\n                      this.props.onGameStart(this.state.gameInfo);\n                    } else {\n                      throw new Error(\"Game start was triggered but game info was missing.\");\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CSSTransition, {\n          in: this.state.lobbyInfo === undefined,\n          timeout: 500,\n          classNames: {\n            enter: styles[\"background-bottom-enter\"],\n            enterActive: styles[\"background-bottom-enter-active\"],\n            enterDone: styles[\"background-bottom-enter-done\"],\n            exit: styles[\"background-bottom-exit\"],\n            exitActive: styles[\"background-bottom-exit-active\"],\n            exitDone: styles[\"background-bottom-exit-done\"]\n          },\n          unmountOnExit: true,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: styles[\"background-bottom\"],\n            className: \"box-shadow-inner\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              id: styles[\"input-container\"],\n              onSubmit: e => this.onFormSubmitHandler(e, 600),\n              children: [/*#__PURE__*/_jsxDEV(CSSTransition, {\n                in: !this.state.inputTransitioning,\n                timeout: 500,\n                classNames: \"fade-rtl\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: this.state.inputRef,\n                  id: styles.input,\n                  ...this.state.inputParams[this.state.currentProgress]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this), this.state.error.occurred ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"error\",\n                children: this.state.error.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 46\n              }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n                id: styles.submit,\n                className: \"box-shadow\",\n                type: \"submit\",\n                children: \"Enter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Lobby;","map":{"version":3,"sources":["/Users/mac/Desktop/Nako/nako/src/desktop/lobby/lobby.tsx"],"names":["React","Link","CSSTransition","animate","delay","styles","parseMessage","Logo","GameStartCountdown","ProgressPhase","ErrorMessage","Lobby","Component","constructor","props","window","state","name","lobbyIDInput","currentProgress","Name","inputParams","className","type","placeholder","onChange","e","setState","target","value","inputRef","createRef","inputTransitioning","error","occurred","message","Generic","transitionedToLobby","connection","subscribe","send","method","payload","lobbyID","lobbyInfo","id","componentWillUnmount","close","lobbyNotFoundHandler","console","log","onFormSubmitHandler","ms","preventDefault","triggerNextProgressPhase","Ended","invalidAnimation","current","triggerDelay","LobbyID","Number","then","res","msg","MissingLobby","TimedOut","catch","render","rest","back","position","zIndex","bottom","right","undefined","players","enter","enterActive","enterDone","exit","exitActive","exitDone","background","Starting","map","player","i","gameInfo","onGameStart","Error","input","submit"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CSSTransition } from \"react-transition-group\";\nimport { animate, delay } from \"../../utils\";\nimport styles from \"./lobby.module.scss\";\nimport NakoAPI, { GameInfo, LobbyInfo, parseMessage } from \"../../modules/websocket-messages\";\nimport Logo from \"../../modules/logo/logo\";\nimport GameStartCountdown from \"./game-start-countdown\";\n\nenum ProgressPhase {\n  Name,\n  LobbyID,\n  Lobby,\n  Starting,\n  Ended\n}\n\nenum ErrorMessage {\n  Generic = \"An error occurred while your request was being processed.\",\n  TimedOut = \"Your request was timed out. Please try again.\",\n  MissingLobby = \"The provided lobby ID does not exist.\"\n}\n\ninterface LobbyProps {\n  connection: NakoAPI;\n  onGameStart: (gameInfo: GameInfo) => void;\n}\n\ninterface LobbyStates {\n  name: string;\n  lobbyIDInput: string;\n  currentProgress: ProgressPhase;\n  inputParams: React.InputHTMLAttributes<HTMLInputElement>[];\n  inputRef: React.RefObject<HTMLInputElement>;\n  inputTransitioning: boolean;\n  error: {\n    occurred: boolean;\n    message: ErrorMessage;\n  };\n  transitionedToLobby: boolean;\n  lobbyInfo?: LobbyInfo;\n  gameInfo?: GameInfo;\n}\n\nclass Lobby extends React.Component<LobbyProps & React.HTMLAttributes<HTMLDivElement>, LobbyStates> {\n  constructor(props: LobbyProps & React.HTMLAttributes<HTMLDivElement>) {\n    super(props);\n\n    (window as any).parseMessage = parseMessage;\n\n    this.state = {\n      name: \"\",\n      lobbyIDInput: \"\",\n      currentProgress: ProgressPhase.Name,\n      inputParams: [{\n        className: \"box-shadow\",\n        type: \"text\",\n        placeholder: \"Enter name...\",\n        onChange: e => this.setState({ name: e.target.value })\n      }, {\n        className: \"box-shadow hide-number-buttons\",\n        type: \"number\",\n        placeholder: \"Enter game ID\",\n        onChange: e => this.setState({ lobbyIDInput: e.target.value })\n      }],\n      inputRef: React.createRef<HTMLInputElement>(),\n      inputTransitioning: false,\n      error: {\n        occurred: false,\n        message: ErrorMessage.Generic\n      },\n      transitionedToLobby: false\n    };\n\n    this.props.connection.subscribe(\"req\", \"keep_alive\", () => this.props.connection.send({\n      method: \"res\",\n      type: \"keep_alive\",\n      payload: {\n        name: this.state.name,\n        lobbyID: this.state.lobbyInfo!.id\n      }\n    }));\n  }\n\n  componentWillUnmount() {\n    this.props.connection.close();\n  }\n\n  lobbyNotFoundHandler(error: string) {\n    console.log(error);\n  }\n\n  async onFormSubmitHandler(e: React.FormEvent<HTMLFormElement>, ms?: number) {\n    e.preventDefault();\n    this.setState({ error: { ...this.state.error, occurred: false } });\n\n    const triggerNextProgressPhase = () => {\n      if (this.state.currentProgress < ProgressPhase.Ended) {\n        this.setState({ currentProgress: this.state.currentProgress + 1 });\n      }\n    }\n\n    const invalidAnimation = () => {\n      animate(\"shake\", this.state.inputRef.current!, 500);\n    }\n\n    const triggerDelay = async () => {\n      if (ms) {\n        this.setState({\n          inputTransitioning: true\n        });\n\n        await delay(ms);\n\n        this.setState({\n          inputTransitioning: false\n        });\n      }\n    }\n\n    switch (this.state.currentProgress) {\n      case ProgressPhase.Name:\n        if (this.state.name !== \"\") {\n          await triggerDelay();\n          triggerNextProgressPhase();\n        } else {\n          invalidAnimation();\n        }\n\n        break;\n      \n      case ProgressPhase.LobbyID:\n        if (this.state.lobbyIDInput !== \"\") {\n          this.props.connection.send({\n            method: \"req\",\n            type: \"lobby_join\",\n            payload: {\n              lobbyID: Number(this.state.lobbyIDInput),\n              name: this.state.name\n            }\n          }, 10000).then(async res => {\n            console.log(res);\n            if (res) {\n              if (res.lobbyInfo) {\n                this.setState({ lobbyInfo: res.lobbyInfo })\n\n                this.props.connection.subscribe(\"res\", \"lobby_update\", msg => {\n                  this.setState({ lobbyInfo: msg.lobbyInfo });\n                });\n\n                this.props.connection.subscribe(\"req\", \"game_start\").then(msg => {\n                  console.log(msg);\n\n                  this.props.connection.send({\n                    method: \"res\",\n                    type: \"game_start\",\n                    payload: null\n                  })\n\n                  triggerNextProgressPhase();\n                });\n\n                await triggerDelay();\n                triggerNextProgressPhase();\n              } else {\n                this.setState({ error: { occurred: true, message: ErrorMessage.MissingLobby } });\n                console.log(res.error);\n              }\n            } else {\n              this.setState({ error: { occurred: true, message: ErrorMessage.TimedOut } });\n            }\n          }).catch(e => {\n            console.log(e);\n            this.setState({ error: { occurred: true, message: ErrorMessage.Generic } })\n          })\n        } else {\n          invalidAnimation();\n        }\n        break;\n\n      default:\n        break;\n    }\n  }\n  \n  render() {\n    const { connection, ...rest } = this.props;\n\n    return (\n      <div {...rest}>\n        <div className={styles[\"lobby-container\"]}>\n          <Link to=\"/\">\n            <button id={styles.back} className=\"box-shadow\">\n              <span className={styles[\"arrow-left\"]}/>\n              <span>Back</span>\n            </button>\n          </Link>\n          <button\n            style={{position: \"absolute\", zIndex: 1, bottom: 0, right: 0}}\n            onClick={() => this.setState({\n              lobbyInfo: this.state.lobbyInfo ? undefined : {\n                id: 0,\n                players: [this.state.name, \"Test1\", \"Test2\", \"Test3\", \"Test4\", \"Test5\", \"Test6\", \"Test7\", \"Test8\", \"Test9\", \"Test10\", \"Test11\", \"Test12\"]\n              },\n              currentProgress: this.state.currentProgress === ProgressPhase.Lobby ? ProgressPhase.Name : ProgressPhase.Lobby\n            })}\n          >\n            Test\n          </button>\n          <CSSTransition\n            in={this.state.lobbyInfo !== undefined}\n            timeout={500}\n            classNames={{\n              enter: styles[\"background-top-enter\"],\n              enterActive: styles[\"background-top-enter-active\"],\n              enterDone: styles[\"background-top-enter-done\"],\n              exit: styles[\"background-top-exit\"],\n              exitActive: styles[\"background-top-exit-active\"],\n              exitDone: styles[\"background-top-exit-done\"]\n            }}\n          >\n            <div id={this.state.transitionedToLobby ? styles.background : styles[\"background-top\"]}>\n              <CSSTransition\n                in={this.state.lobbyInfo === undefined} timeout={500}\n                classNames={{\n                  enter: styles[\"title-container-enter\"],\n                  enterActive: styles[\"title-container-enter-active\"],\n                  enterDone: styles[\"title-container-enter-done\"],\n                  exit: styles[\"title-container-exit\"],\n                  exitActive: styles[\"title-container-exit-active\"],\n                  exitDone: styles[\"title-container-exit-done\"]\n                }}\n                onExited={() => this.setState({ transitionedToLobby: true })}\n                mountOnEnter unmountOnExit\n              >\n                <Logo id={styles[\"title-container\"]} role=\"student\"/>\n              </CSSTransition>\n              <CSSTransition\n                in={this.state.transitionedToLobby && this.state.lobbyInfo !== undefined}\n                timeout={500}\n                classNames={{\n                  enter: styles[\"lobby-info-container-enter\"],\n                  enterActive: styles[\"lobby-info-container-enter-active\"],\n                  enterDone: styles[\"lobby-info-container-enter-done\"],\n                  exit: styles[\"lobby-info-container-exit\"],\n                  exitActive: styles[\"lobby-info-container-exit-active\"],\n                  exitDone: styles[\"lobby-info-container-exit-done\"]\n                }}\n                onExit={() => this.setState({ transitionedToLobby: false })}\n                mountOnEnter unmountOnExit\n              >\n                <div id={styles[\"lobby-info-container\"]}>\n                  {this.state.currentProgress !== ProgressPhase.Starting ?\n                    <>\n                      <h3>You are playing with:</h3>\n                      <div id={styles[\"player-list\"]}>\n                        {this.state.lobbyInfo !== undefined ? this.state.lobbyInfo!.players.map((player, i) => <p key={i}>{player}</p>) : null}\n                      </div>\n                    </> :\n                    <GameStartCountdown\n                      onCountdownEnd={() => {\n                        if (this.state.gameInfo) {\n                          console.log(\"Start\");\n                          this.props.onGameStart(this.state.gameInfo);\n                        } else {\n                          throw new Error(\"Game start was triggered but game info was missing.\");\n                        }\n                      }}\n                    />\n                  }\n                </div>\n              </CSSTransition>\n            </div>\n          </CSSTransition>\n          <CSSTransition\n            in={this.state.lobbyInfo === undefined}\n            timeout={500}\n            classNames={{\n              enter: styles[\"background-bottom-enter\"],\n              enterActive: styles[\"background-bottom-enter-active\"],\n              enterDone: styles[\"background-bottom-enter-done\"],\n              exit: styles[\"background-bottom-exit\"],\n              exitActive: styles[\"background-bottom-exit-active\"],\n              exitDone: styles[\"background-bottom-exit-done\"]\n            }}\n            unmountOnExit\n          >\n            <div id={styles[\"background-bottom\"]} className=\"box-shadow-inner\">\n              <form id={styles[\"input-container\"]} onSubmit={e => this.onFormSubmitHandler(e, 600)}>\n                <CSSTransition in={!this.state.inputTransitioning} timeout={500} classNames=\"fade-rtl\">\n                  <input\n                    ref={this.state.inputRef}\n                    id={styles.input}\n                    {...this.state.inputParams[this.state.currentProgress]}\n                  />\n                </CSSTransition>\n                {this.state.error.occurred ? <p className=\"error\">{this.state.error.message}</p> : null}\n                <button id={styles.submit} className=\"box-shadow\" type=\"submit\">Enter</button>\n              </form>\n            </div>\n          </CSSTransition>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Lobby;"]},"metadata":{},"sourceType":"module"}